<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.dao.MunicipioRepository">

    <select id="getDataByMunicipioId" resultType="com.example.demo.dto.DataCovidMunicipioDto">

        select c.dato, c.fecha
        from municipio a, zona b, dato c, tipodedato d
        where a.id_municipio = b.Municipio_id_municipio
        and b.id_zona = c.zona_id_zona
        and d.id_tdd = c.tipodedato_id_tdd
        and a.id_municipio= #{municipioId}
        and d.id_tdd= #{tipoDatoId}

    </select>
</mapper>